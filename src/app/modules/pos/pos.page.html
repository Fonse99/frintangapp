<!-- <c-header title="Punto de venta" icon="storefront" /> -->

<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-button
      class="ion-margin-start"
      fill="clear"
      slot="start"
      (click)="goBack()"
    >
      <ion-icon name="chevron-back" />
      Volver
    </ion-button>

    <ion-item id="searchbar-two" lines="none">
      <ion-searchbar />

      <ion-button fill="solid" (click)="openFilterPopover($event)">
        <ion-icon name="filter-outline" size="large"></ion-icon>
      </ion-button>
    </ion-item>
    <div slot="end" class="ion-padding-start">
      <ion-icon
        class="ion-margin-end"
        name="person-circle"
        color="primary"
        size="large"
      />
    </div>
  </ion-toolbar>
  <ion-item id="searchbar-one" class="m-auto" lines="none">
    <ion-searchbar />

    <ion-button fill="solid" (click)="openFilterPopover($event)">
      <ion-icon name="filter-outline" size="large"></ion-icon>
    </ion-button>
  </ion-item>
</ion-header>
<ion-content [fullscreen]="true">
  <ion-grid class="ion-margin">
    <ion-row>
      <ion-col
        sizeXs="12"
        sizeSm="6"
        sizeLg="6"
        sizeXl="3"
        size="3"
        *ngFor="let i of plates"
      >
        <ion-card>
          <img class="picture" src="{{i.image}}" alt="taco en salsa ranch" />
          <ion-card-header>
            <ion-card-title> {{i.name}} </ion-card-title>
            <ion-item>
              <ion-label slot="start">
                <p>Disponibles</p>
                <ion-text> {{i.stock}} </ion-text>
              </ion-label>
              <ion-label slot="end">
                <p>Precio</p>
                <strong>{{i.stock| currency: "C$ "}}</strong>
              </ion-label>
            </ion-item>
          </ion-card-header>

          <ion-footer class="ion-no-border">
            <ion-toolbar>
              <ion-button slot="end" fill="outline" color="secondary">
                <ion-icon name="remove" />
              </ion-button>

              <ion-input
                value="0"
                slot="end"
                type="number"
                min="0"
                minlength="1"
                style="
                  width: 30%;
                  text-align: center;
                  font-weight: 600;
                  font-size: x-large;
                "
              />

              <ion-button class="ion-margin-end" slot="end">
                <ion-icon name="add" />
              </ion-button>
            </ion-toolbar>
          </ion-footer>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer>
  <ion-toolbar
    class="ion-padding-bottom ion-padding-start ion-padding-end tool-summary"
  >
    <ion-button
      class="small-button"
      slot="end"
      size="large"
      (click)="openInvoice()"
    >
      <ion-icon slot="start" name="newspaper"></ion-icon>
      Factura
      <ion-badge class="ion-margin-start" slot="end" color="warning">
        12
      </ion-badge>
    </ion-button>

    <ion-button
      class="full-button"
      expand="block"
      size="large"
      (click)="openInvoice()"
    >
      <ion-icon slot="start" name="newspaper"></ion-icon>
      Factura
      <ion-badge class="ion-margin-start" slot="end" color="warning">
        12
      </ion-badge>
    </ion-button>
  </ion-toolbar>
</ion-footer>

<ion-modal
  #modal
  [initialBreakpoint]="1"
  [breakpoints]="[0, 0.25, 0.5, 0.75, 1.0]"
>
  <ng-template>
    <ion-header class="ion-no-border">
      <ion-toolbar color="primary">
        <ion-button color="light" fill="clear">
          <ion-icon name="chevron-back" slot="start" /> Volver
        </ion-button>

        <ion-title slot="end">Factura</ion-title>
      </ion-toolbar>
      <ion-toolbar>
        <ion-title class="ion-text-start"> Consumo </ion-title>
        <ion-badge class="ion-margin-end" slot="end"
          >{{30}} Productos</ion-badge
        >
      </ion-toolbar>
    </ion-header>

    <ion-content>
      <ion-list>
        <ion-item
          *ngFor="let i of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]"
        >
          Elemento n√∫mero {{i}}
        </ion-item>
      </ion-list>
    </ion-content>
    <ion-footer>
      <ion-toolbar>
        <ion-accordion-group>
          <ion-accordion value="total">
            <ion-item slot="header">
              <ion-label>
                <p>Total</p>
                <ion-text>
                  <strong> {{11250.00 | currency: "C$ "}} </strong>
                </ion-text>
              </ion-label>

              <ion-label slot="end"> <p>Ver detalles</p> </ion-label>
            </ion-item>

            <ion-item slot="content">
              <ion-label>
                <p>Descuento</p>
                <ion-text>
                  <strong>{{ 0 | currency: "C$ " }}</strong>
                </ion-text>
                <br />
                <br />
                <p>Subtotal</p>
                <ion-text>
                  <strong> {{ 11250.00 | currency:"C$ "}}</strong>
                </ion-text>
                <br />
                <ion-button fill="clear" expand="block"
                  >aplicar descuento
                  <ion-icon name="cut-outline" slot="end"></ion-icon
                ></ion-button>
              </ion-label>
            </ion-item>
          </ion-accordion>
        </ion-accordion-group>
      </ion-toolbar>
      <ion-toolbar class="ion-padding-bottom">
        <ion-button
          class="ion-margin-top ion-margin-end ion-margin-start"
          expand="block"
          size="large"
          color="primary"
        >
          <ion-icon class="ion-margin-end" name="checkmark-circle"></ion-icon>
          Facturar</ion-button
        >
        <ion-button
          class="ion-margin-top ion-margin-end ion-margin-start"
          expand="block"
          fill="outline"
          color="danger"
          size="large"
        >
          <ion-icon class="ion-margin-end" name="trash"></ion-icon>
          Descartar</ion-button
        >
      </ion-toolbar>
    </ion-footer>
  </ng-template>
</ion-modal>
